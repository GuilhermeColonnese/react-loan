{"ast":null,"code":"import _slicedToArray from\"/Users/guilherme/Downloads/react-loan-calculator-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{Grid,Box,Paper,Typography,TextField,Select,Button,MenuItem,FormControl,InputLabel}from'@material-ui/core';import Amortization from'./Amortization';import LiferayApi from'../common/services/liferay/api';import{useIntl}from'react-intl';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoanDetail(props){var intl=useIntl();useEffect(function(){if(!props.store.initialized){fetchRates();handleInitializeChange(true);}});function handleInitializeChange(value){props.dispatch({type:'INITIALIZE',value:value});}function handleLoanAmountChange(event){var value=event.target.value;props.dispatch({type:'LOAN_AMOUNT',value:value});}function handleRemainingTermChange(event){var value=event.target.value;handleInterestRateChange(findRate(value));props.dispatch({type:'REMAINING_TERM',value:value});}function handleInterestRateChange(value){props.dispatch({type:'INTEREST_RATE',value:value});}function handleInterestRateListChange(value){props.dispatch({type:'INTEREST_RATE_LIST',value:value});}function fetchRates(){LiferayApi(\"o/c/rates/\").then(function(result){var rates=loadRates(result.data.items);console.log(rates);handleInterestRateListChange(rates);}).catch(console.log);}function loadRates(data){var rateList=[];for(var key in data){var opt={};opt.rate=data[key].rate;opt.term=data[key].term;rateList.push(opt);}return rateList;};function findRate(term){for(var key in props.store.interestRateList){if(props.store.interestRateList[key].term===term){return props.store.interestRateList[key].rate;}}return 0;}return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Paper,{children:[/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:intl.formatMessage({id:'loan-details'})})}),/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(TextField,{label:intl.formatMessage({id:'loan-amount'}),fullWidth:true,variant:\"outlined\",onChange:handleLoanAmountChange,value:props.store.loanAmount})}),/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"remaining-term-label\",children:intl.formatMessage({id:'remaining-term'})}),/*#__PURE__*/_jsx(Select,{fullWidth:true,variant:\"standard\",labelId:\"remaining-term-label\",onChange:handleRemainingTermChange,value:props.store.remainingTerm,children:Object.entries(props.store.interestRateList).map(function(_ref,index){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],obj=_ref2[1];return/*#__PURE__*/_jsx(MenuItem,{value:obj.term,children:obj.term},key);})})]})}),/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(TextField,{label:intl.formatMessage({id:'interest-rate'}),disabled:true,fullWidth:true,variant:\"standard\",value:props.store.interestRate})}),/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(Button,{fullWidth:true,onClick:props.handleNext,variant:\"contained\",color:\"primary\",children:intl.formatMessage({id:'next'})})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:/*#__PURE__*/_jsx(Amortization,{store:props.store})})]});}export default LoanDetail;","map":{"version":3,"names":["React","useEffect","Grid","Box","Paper","Typography","TextField","Select","Button","MenuItem","FormControl","InputLabel","Amortization","LiferayApi","useIntl","jsx","_jsx","jsxs","_jsxs","LoanDetail","props","intl","store","initialized","fetchRates","handleInitializeChange","value","dispatch","type","handleLoanAmountChange","event","target","handleRemainingTermChange","handleInterestRateChange","findRate","handleInterestRateListChange","then","result","rates","loadRates","data","items","console","log","catch","rateList","key","opt","rate","term","push","interestRateList","container","spacing","children","item","xs","sx","p","variant","gutterBottom","formatMessage","id","label","fullWidth","onChange","loanAmount","labelId","remainingTerm","Object","entries","map","_ref","index","_ref2","_slicedToArray","obj","disabled","interestRate","onClick","handleNext","color"],"sources":["/Users/guilherme/Downloads/react-loan-calculator-main/src/components/LoanDetail.js"],"sourcesContent":["import React, {useEffect} from 'react';\n\nimport { Grid, Box, Paper, Typography, TextField, Select, Button, MenuItem, FormControl, InputLabel } from '@material-ui/core';\nimport Amortization from './Amortization';\nimport LiferayApi from '../common/services/liferay/api';\n\nimport {useIntl} from 'react-intl';\n\nfunction LoanDetail(props) {\n\n    const intl = useIntl();\n\n    useEffect(() => {\n        if(!props.store.initialized){\n            fetchRates();\n            handleInitializeChange(true);\n        }\n    });\n\n    function handleInitializeChange(value) {\n        props.dispatch({ type: 'INITIALIZE', value });\n    }\n\n    function handleLoanAmountChange(event) {\n        let value = event.target.value;\n        props.dispatch({ type: 'LOAN_AMOUNT', value });\n    }\n\n    function handleRemainingTermChange(event) {\n        let value = event.target.value\n        handleInterestRateChange(findRate(value));\n\n        props.dispatch({ type: 'REMAINING_TERM', value });\n    }\n\n    function handleInterestRateChange(value) {\n        props.dispatch({ type: 'INTEREST_RATE', value });\n    }\n\n    function handleInterestRateListChange(value) {\n        props.dispatch({ type: 'INTEREST_RATE_LIST', value });\n    }\n\n    function fetchRates(){\n        LiferayApi(\"o/c/rates/\")\n        .then((result) => {\n            let rates = loadRates(result.data.items);\n            console.log(rates);\n            handleInterestRateListChange(rates);\n        })\n        .catch(console.log)\n    }\n\n    function loadRates(data){\n        let rateList = [];\n        for (let key in data){\n            let opt = {};\n            opt.rate = data[key].rate;\n            opt.term = data[key].term;\n            rateList.push(opt);\n        }\n        return rateList;\n    };\n\n    function findRate(term){\n        for(let key in props.store.interestRateList){\n            if(props.store.interestRateList[key].term === term){\n                return props.store.interestRateList[key].rate;\n            }\n        }\n        return 0;\n    }\n\n    return (\n        <Grid container spacing={2}>\n          <Grid item xs={4}>\n            <Paper>\n                <Box sx={{ p: 2 }}>\n                    <Typography variant=\"h5\" gutterBottom>\n                        {intl.formatMessage({id: 'loan-details'})}\n                    </Typography>\n                </Box>\n                <Box sx={{ p: 2 }}>\n                    <TextField label={intl.formatMessage({id: 'loan-amount'})}\n                        fullWidth variant=\"outlined\"\n                        onChange={handleLoanAmountChange}\n                        value={props.store.loanAmount} />\n                </Box>\n                <Box sx={{ p: 2 }}>\n                    <FormControl fullWidth>\n                        <InputLabel id=\"remaining-term-label\">{intl.formatMessage({id: 'remaining-term'})}</InputLabel>\n                        <Select\n                            fullWidth  variant=\"standard\"\n                            labelId=\"remaining-term-label\"\n                            onChange={handleRemainingTermChange}\n                            value={props.store.remainingTerm}\n                        >\n                            {Object.entries(props.store.interestRateList).map(([key, obj], index) => { return (\n                                <MenuItem key={key} value={obj.term}>{obj.term}</MenuItem>\n                            )})}\n                        </Select>\n                    </FormControl>\n                </Box>\n                <Box sx={{ p: 2 }}>\n                    <TextField label={intl.formatMessage({id: 'interest-rate'})} disabled fullWidth  \n                        variant=\"standard\" value={props.store.interestRate}/>\n                </Box>\n                <Box sx={{ p: 2 }}>\n                    <Button fullWidth onClick={props.handleNext}\n                        variant=\"contained\" color=\"primary\">\n                        {intl.formatMessage({id: 'next'})}\n                    </Button>\n                </Box>\n            </Paper>\n          </Grid>\n          <Grid item xs={8}>\n            <Amortization store={props.store} />\n          </Grid>\n        </Grid>\n    )\n}\n\nexport default LoanDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}